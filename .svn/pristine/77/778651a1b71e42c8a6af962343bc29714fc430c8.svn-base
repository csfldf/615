<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/panel.css"/>
    <link rel="stylesheet" href="js/base/bs-tagsinput/bootstrap-tagsinput.css"/>
    <title >项目概览</title>
</head>
<body>
<div ms-controller="prj_def">
    <div style="position: relative;left:0px;top:0px;">
        <!--<a type="button" id="btn_all" ms-class="btn btn-default" ms-click="showPrj()">项目概览</a>-->
        <!--<a type="button" id="btn_create" ms-class="btn btn-default" ms-click="crtPrj()">创建项目</a>-->
        <!--<a type="button" id="btn_group" ms-class="btn btn-default" ms-click="maintainPrj()">项目团队维护</a>-->
    </div>
    <div  style="position: relative;left:0px;">
        <div ms-visible="allSel" class="panel panel-default" style="position:relative;">
            <div class="panel-heading" style="background-color: #abc5cb">我的项目</div>
            <table class="table" id="prjList">
                <!--<caption>我的项目</caption>-->
                <thead>
                <tr>
                    <!--<th></th>-->
                    <!--<th>序号-->
            <!--<span class="sort-icons" style="position:relative">-->
	        		<!--<i class="icon-chevron-up" ms-click="orderByDictGmp(prjList, 'id', 1)"></i>-->
	        		<!--<i class="icon-chevron-down" ms-click="orderByDictGmp(prjList, 'id', 0)"></i>-->
	        	    <!--</span>-->
                    <!--</th>-->
                    <th></th>
                    <th>项目名称
            <span class="sort-icons" style="position:relative">
	        		<i class="icon-chevron-up" ms-click="orderByDict('prjList', 'projectName', 1)"></i>
	        		<i class="icon-chevron-down" ms-click="orderByDict('prjList', 'projectName', 0)"></i>
                    <i class="icon-filter" ms-click="filterConfig('prjList','projectName')" style="position: relative;left: 20px"></i>
	        	    </span>
                    </th>
                    <th>项目类别
            <span class="sort-icons" style="position:relative">
	        		<i class="icon-chevron-up" ms-click="orderByDict('prjList', 'prjType', 1)"></i>
	        		<i class="icon-chevron-down" ms-click="orderByDict('prjList', 'prjType', 0)"></i>
                    <i class="icon-filter" ms-click="filterConfig('prjList','prjType')" style="position: relative;left: 20px"></i>
	        	    </span>
                    </th>
                    <th>项目课题号
            <span class="sort-icons" style="position:relative">
	        		<i class="icon-chevron-up" ms-click="orderByDict('prjList', 'prjSubId', 1)"></i>
	        		<i class="icon-chevron-down" ms-click="orderByDict('prjList', 'prjSubId', 0)"></i>
                    <i class="icon-filter" ms-click="filterConfig('prjList','prjSubId')" style="position: relative;left: 20px"></i>
	        	    </span>
                    </th>
                    <th>项目经理
            <span class="sort-icons" style="position:relative">
	        		<!--<i class="icon-chevron-up" ms-click="orderByDict('prjList', 'manager', 1)"></i>-->
	        		<!--<i class="icon-chevron-down" ms-click="orderByDict('prjList', 'manager', 0)"></i>-->
                    <!--<i class="icon-filter" ms-click="filterConfig('prjList','manager')" style="position: relative;left: 20px"></i>-->
	        	    </span>
                    </th>
                    <th>开始时间
            <span class="sort-icons" style="position:relative">
	        		<i class="icon-chevron-up" ms-click="orderByDict('prjList', 'startDate', 1)"></i>
	        		<i class="icon-chevron-down" ms-click="orderByDict('prjList', 'startDate', 0)"></i>
                    <i class="icon-filter" ms-click="filterConfig('prjList','startDate')" style="position: relative;left: 20px"></i>
	        	    </span>
                    </th>
                    <th>结束时间
            <span class="sort-icons" style="position:relative">
	        		<i class="icon-chevron-up" ms-click="orderByDict('prjList','endDate', 1)"></i>
	        		<i class="icon-chevron-down" ms-click="orderByDict('prjList', 'endDate', 0)"></i>
                    <i class="icon-filter" ms-click="filterConfig('prjList','endDate')" style="position: relative;left: 20px"></i>
	        	    </span>
                    </th>
                </tr>
                </thead>
                <tbody>
                <tr ms-attr-id="'prjs'+el.projectId" class="one-row" ms-repeat="data.prjList.curReports" >
                    <td><input  class="radio" type="radio" name="prjRadio" ms-click="selectOnePrj(el)"></td>
                    <td>{{el.projectName}}</td>
                    <td>{{el.prjType}}</td>
                    <td>{{el.prjSubId}}</td>
                    <td>
                        <span ms-repeat="el.manager" class="tag label label-info">{{el.employeeName}}<span data-role="remove"></span></span>
                    </td>
                    <td>{{el.startDate}}</td>
                    <td>{{el.endDate}}</td>
                    <!--<a ms-click="del(el.employeeId)">删除</a><br>-->
                </tr>
                </tbody>
            </table>
            <div>
                <span style="position:relative;bottom: 3px;left: 1%">每页显示</span>
                <select ms-change="setPagesMessage('prjList')" ms-duplex="data.prjList.pageSize"
                        style="position: relative;bottom: 0px;left: 2%;width: 4%">
                    <option value ="5" selected="selected">5</option>
                    <option value ="10">10</option>
                    <option value="15">15</option>
                    <option value="20">20</option>
                </select>
                <span style="position: relative;bottom:3px;left: 5%">从总共{{data.prjList.totalNum}}项中选择了{{data.prjList.filterNum}}项</span>
            <span style="position: relative;bottom:3px;left: 30%">
                <button ms-click="prePage('prjList')"><i class="icon-chevron-left" ></i></button>
                第 {{data.prjList.indexPage+1}} 页，共 {{data.prjList.pageNum}} 页
                <button ms-click="nextPage('prjList')"><i class="icon-chevron-right" ></i></button>
            </span>
                <span style="position: relative;left:60%"><a ms-click="reset('prjList')">重置</a></span>
            </div>
            <!--<a  ms-click="modifyMemberINFO()" role="button" class="btn btn-warning">修改</a >-->
            <!--<a ms-click="del()" role="button" class="btn btn-danger">删除</a></td>-->
        </div>
    </div>
    <div ms-visible="detailSel" style="position: relative;left:0px;">
        <!--<h2>-->
            <!--项目详情-->
        <!--</h2>-->
        <div class="accordion-group">
            <div class="accordion-heading" style="background-color: #abc5cb"><a class="accordion-toggle" contenteditable="false" ms-click="changeMessageImg"
                                              data-parent="#accordion-988086" data-toggle="collapse" style="color: darkred"
                                              href="#imgMessage_overview_child">项目详情<img id="imgMessage_overview" src="img/shrink.png" /></a>
            </div>
                <div class="accordion-body in collapse" id="imgMessage_overview_child" style="position:relative;bottom:0px;left:0px;height:auto;">
                    <div class="accordion-inner" id="" contenteditable="false">
                        <form ms-attr-id="prjDetail">
                            <!--<legend style="text-align: center;vertical-align: 50%"></legend>-->
                            <div class="row-fluid">
                                <div class="span6">
                                    <div class="control-group"><!-- Text input-->
                                        <label class="control-label" style="width:80px;display: block;float: left;margin-right: 15px;margin-top: 4px">项目名称:</label>
                                        <div class="controls">
                                            <input ms-duplex="prjDetail.projectName" ms-enabled="false"
                                               name="projectName" type="text"
                                               class="input-xlarge span11" autofocus required style="width: 50%">
                                        </div>
                                    </div>
                                </div>
                                <div class="span6">
                                    <div class="control-group"><!-- Text input-->
                                        <label class="control-label "style="width:80px;display: block;float: left;margin-right: 15px;margin-top: 4px">项目简称:</label>

                                        <div class="controls">
                                            <input ms-duplex="prjDetail.prjShortName" ms-enabled="false" name="prjShortName"
                                                   type="text" class="input-xlarge span11" autofocus
                                                   required style="width: 50%">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="span6">
                                    <div class="control-group"><!-- Text input-->
                                        <label class="control-label" style="width:80px;display: block;float: left;margin-right: 15px;margin-top: 4px">项目分类:</label>

                                        <div class="controls">
                                            <input ms-value="prjDetail.prjType" ms-duplex="prjDetail.prjType" ms-enabled="false"
                                                   name="prjType" type="text"
                                                   class="input-xlarge span11" autofocus required style="width: 50%">
                                        </div>
                                    </div>
                                </div>
                                <div class="span6">
                                    <div class="control-group"><!-- Text input-->
                                        <label class="control-label " style="width:80px;display: block;float: left;margin-right: 15px;margin-top: 4px">项目课题号:</label>

                                        <div class="controls">
                                            <input ms-duplex="prjDetail.prjSubId" ms-enabled="false" name="prjSubId"
                                                   type="text" class="input-xlarge span11" autofocus
                                                   required style="width: 50%">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="span6">
                                    <div class="control-group"><!-- Text input-->
                                        <label class="control-label " style="width:80px;display: block;float: left;margin-right: 15px;margin-top: 4px">所领导:</label>

                                        <div class="controls">
                                            <!--<input ms-duplex="prjDetail.insLeader" ms-enabled="false" name="insLeader"-->
                                                   <!--type="text" class="input-xlarge span11" autofocus-->
                                                   <!--required>-->
                                            <div class="bootstrap-tagsinput" >
                                                <span  ms-repeat="prjDetail.insLeader" class="tag label label-info">{{el.employeeName}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="span6">
                                    <div class="control-group"><!-- Text input-->
                                        <label class="control-label" style="width:80px;display: block;float: left;margin-right: 15px;margin-top: 4px">部门领导:</label>

                                        <div class="controls">
                                            <!--<input ms-duplex="prjDetail.depLeader" ms-enabled="false"-->
                                            <!--name="depLeader" type="text"-->
                                            <!--class="input-xlarge span11" autofocus required>-->
                                            <div class="bootstrap-tagsinput" >
                                                <span  ms-repeat="prjDetail.depLeader" class="tag label label-info">{{el.employeeName}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="span6">
                                    <div class="control-group"><!-- Text input-->
                                        <label class="control-label " style="width:80px;display: block;float: left;margin-right: 15px;margin-top: 4px">项目领导:</label>

                                        <div class="controls">
                                            <!--<input ms-duplex="prjDetail.prjLeader" ms-enabled="false" name="prjLeader"-->
                                                   <!--type="text" class="input-xlarge span11" autofocus-->
                                                   <!--required>-->
                                            <div class="bootstrap-tagsinput" >
                                                <span  ms-repeat="prjDetail.prjLeader" class="tag label label-info">{{el.employeeName}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="span6">
                                    <div class="control-group"><!-- Text input-->
                                        <label class="control-label" style="width:80px;display: block;float: left;margin-right: 15px;margin-top: 4px">项目经理:</label>
                                        <div class="controls">
                                            <div class="bootstrap-tagsinput" >
                                                <span  ms-repeat="prjDetail.manager" class="tag label label-info">{{el.employeeName}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="span6">
                                    <div class="control-group"><!-- Text input-->
                                        <label class="control-label" style="width:80px;display: block;float: left;margin-right: 15px;margin-top: 4px">合同编号:</label>

                                        <div class="controls">
                                            <input ms-duplex="prjDetail.contractId" ms-enabled="false"
                                                   name="contractId" type="text"
                                                   class="input-xlarge span11" autofocus required style="width: 50%">
                                        </div>
                                    </div>
                                </div>
                                <div class="span6">
                                    <div class="control-group"><!-- Text input-->
                                        <label class="control-label " style="width:80px;display: block;float: left;margin-right: 15px;margin-top: 4px">开始时间:</label>

                                        <div class="controls">
                                            <input ms-duplex="prjDetail.startDate" ms-enabled="false" name="startDate"
                                                   type="date" class="input-xlarge span11" autofocus
                                                   required style="width: 50%">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="span6">
                                    <div class="control-group"><!-- Text input-->
                                        <label class="control-label" style="width:80px;display: block;float: left;margin-right: 15px;margin-top: 4px">结束时间:</label>

                                        <div class="controls">
                                            <input ms-duplex="prjDetail.endDate" ms-enabled="false"
                                                   name="endDate" type="date"
                                                   class="input-xlarge span11" autofocus required style="width: 50%">
                                        </div>
                                    </div>
                                </div>
                                <div class="span6">
                                    <div class="control-group"><!-- Text input-->
                                        <label class="control-label " style="width:80px;display: block;float: left;margin-right: 15px;margin-top: 4px">收入预算:</label>

                                        <div class="controls">
                                            <input ms-duplex="prjDetail.inBudget" ms-enabled="false" name="inBudget"
                                                   type="text" class="input-xlarge span11" autofocus
                                                   required style="width: 50%">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="span6">
                                    <div class="control-group"><!-- Text input-->
                                        <label class="control-label" style="width:80px;display: block;float: left;margin-right: 15px;margin-top: 4px">支出预算:</label>

                                        <div class="controls">
                                            <input ms-duplex="prjDetail.outBudget" ms-enabled="false"
                                                   name="outBudget" type="text"
                                                   class="input-xlarge span11" autofocus required style="width: 50%">
                                        </div>
                                    </div>
                                </div>
                                <!--<div class="span6">-->
                                    <!--<div class="controls">-->
                                        <!--<button type="button" class="btn btn-warning" ms-click="modifyPrjDetail()" style="position:relative;top:25px">修改项目信息</button>-->
                                    <!--</div>-->
                                <!--</div>-->
                            </div>
                        </form>
                    </div>
                </div>
        </div>
    </div>
    <div class="modal fade" ms-attr-id="modalName" tabindex="-1" role="dialog"
         aria-labelledby="myModalLabel" aria-hidden="true" style="display: none; ">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close"
                            data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <h4 class="modal-title">
                        筛选内容
                    </h4>
                </div>
                <div class="modal-body">
                    <div class="panel panel-default" ms-visible="true">
                        <table class="table table-hover" >
                            <thead>
                            <tr>
                                <th><a class="btn-primary" ms-click="selALL(1)">全选</a><br><a class="btn-danger" ms-click="selALL(0)">全不选</a></th>
                                <th>筛选内容</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ms-repeat="filter.org_values">
                                <td>
                                    <input class="checkbox" type="checkbox" ms-duplex-radio="el.enabled">
                                </td>
                                <td>
                                    {{el.name}}
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <button style="float:right" type="button" ms-click="executeFilter()" class="btn btn-primary">
                        确认
                    </button>
                    <button style="float:left" type="button" ms-attr-id="modalBtn" class="btn btn-default"
                            data-dismiss="modal" >关闭
                    </button>
                </div>
            </div>
        </div>
    </div>
    </div>



</body>
<script src="../js/avalon.js"></script>
<link rel="stylesheet" href="../css/base/bootstrap.css">
<script src="../js/globalConfig.js"></script>
<script>
    require(['am.prjDef','jquery','bootstrap'], function (data,$) {
        avalon.scan();
    } );

</script>
</html>